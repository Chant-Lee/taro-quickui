"use strict";function CodeWrapPlugin(n){this.options=n}function codeWrap(n,e){if(new RegExp(".js$").test(n))return 0===n.indexOf("app.js")?new _webpackSources.ConcatSource("(function(){\n  "+("Y"===process.env.NODE_TEST?'global = typeof window === "undefined" ? global.__proto__  : window ;':"")+"    \n  var createAppHandler = function() {\n    return ",e.assets[n],'\n  };\n  if (typeof window === "undefined") {\n    return createAppHandler();\n  }\n  else {\n    window.createAppHandler = createAppHandler\n    // H5注入manifest以获取features\n    global.manifest = '+JSON.stringify(global.framework.manifest)+";\n  }\n})();"):new _webpackSources.ConcatSource("(function(){\n  "+("Y"===process.env.NODE_TEST?'global = typeof window === "undefined" ? global.__proto__  : window ;':"")+"    \n  var createPageHandler = function() {\n    return ",e.assets[n],'\n  };\n  if (typeof window === "undefined") {\n    return createPageHandler();\n  }\n  else {\n    window.createPageHandler = createPageHandler\n  }\n})();')}var _webpackSources=require("webpack-sources");CodeWrapPlugin.prototype.apply=function(n){n.plugin("compilation",function(n){n.plugin("optimize-chunk-assets",function(e,o){e.forEach(function(e){e.files.forEach(function(e){var o=codeWrap(e,n);o&&(n.assets[e]=o)})}),o()})})},module.exports=CodeWrapPlugin;