"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r.default=e,r}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function loader(e){var r=this.async();this.cacheable&&this.cacheable();var a=_loaderUtils2.default.parseQuery(this.query),t=this.resourcePath,i=_path2.default.parse(t),o=i.name,u=i.ext;-1!==info.name.extList.indexOf(u)?"app"===o?r(null,(0,_appLoader2.default)(this,e)):(0,_pageLoader2.default)(this,e,a).then(function(e){r(null,e)}).catch(function(e){r(e,"")}):this.emitError("未知文件格式："+u)}var _path=require("path"),_path2=_interopRequireDefault(_path),_loaderUtils=require("loader-utils"),_loaderUtils2=_interopRequireDefault(_loaderUtils),_pageLoader=require("./page-loader"),_pageLoader2=_interopRequireDefault(_pageLoader),_appLoader=require("./app-loader"),_appLoader2=_interopRequireDefault(_appLoader),_info=require("./info"),info=_interopRequireWildcard(_info);module.exports=loader;